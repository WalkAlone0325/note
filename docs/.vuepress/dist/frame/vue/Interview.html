<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. 监听组件的生命周期 | 独行的笔记</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/note/img/favicon.ico">
    <meta name="description" content="我的个人网站">
    <link rel="preload" href="/note/assets/css/0.styles.14bfa436.css" as="style"><link rel="preload" href="/note/assets/js/app.3c0d7068.js" as="script"><link rel="preload" href="/note/assets/js/2.98333b35.js" as="script"><link rel="preload" href="/note/assets/js/23.f501ba21.js" as="script"><link rel="prefetch" href="/note/assets/js/10.665ed517.js"><link rel="prefetch" href="/note/assets/js/11.2fc7c7c6.js"><link rel="prefetch" href="/note/assets/js/12.3b7f5b90.js"><link rel="prefetch" href="/note/assets/js/13.8ff6b853.js"><link rel="prefetch" href="/note/assets/js/14.8f8af417.js"><link rel="prefetch" href="/note/assets/js/15.ea58a68a.js"><link rel="prefetch" href="/note/assets/js/16.4a1194fc.js"><link rel="prefetch" href="/note/assets/js/17.565385bc.js"><link rel="prefetch" href="/note/assets/js/18.9657f0f2.js"><link rel="prefetch" href="/note/assets/js/19.776353c5.js"><link rel="prefetch" href="/note/assets/js/20.e0625016.js"><link rel="prefetch" href="/note/assets/js/21.861ff0ff.js"><link rel="prefetch" href="/note/assets/js/22.359259d6.js"><link rel="prefetch" href="/note/assets/js/24.c46b9af3.js"><link rel="prefetch" href="/note/assets/js/25.51a5579d.js"><link rel="prefetch" href="/note/assets/js/26.6e1849e5.js"><link rel="prefetch" href="/note/assets/js/27.c449eb23.js"><link rel="prefetch" href="/note/assets/js/28.bc62d563.js"><link rel="prefetch" href="/note/assets/js/29.f4e32435.js"><link rel="prefetch" href="/note/assets/js/3.8942d4b7.js"><link rel="prefetch" href="/note/assets/js/30.f324699b.js"><link rel="prefetch" href="/note/assets/js/31.521cc24e.js"><link rel="prefetch" href="/note/assets/js/32.e8e078ea.js"><link rel="prefetch" href="/note/assets/js/33.7902add2.js"><link rel="prefetch" href="/note/assets/js/34.2029dacb.js"><link rel="prefetch" href="/note/assets/js/35.4eb9419f.js"><link rel="prefetch" href="/note/assets/js/36.28e3a1ba.js"><link rel="prefetch" href="/note/assets/js/37.99b3b7f9.js"><link rel="prefetch" href="/note/assets/js/38.2a87adbe.js"><link rel="prefetch" href="/note/assets/js/4.2b0c0f0c.js"><link rel="prefetch" href="/note/assets/js/5.34676b5d.js"><link rel="prefetch" href="/note/assets/js/6.e33eb7d6.js"><link rel="prefetch" href="/note/assets/js/7.556f88b7.js"><link rel="prefetch" href="/note/assets/js/8.75fd38ae.js"><link rel="prefetch" href="/note/assets/js/9.2b2522e8.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.14bfa436.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">独行的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/base/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/note/utils/" class="nav-link">
  常用工具
</a></div><div class="nav-item"><a href="/note/frame/" class="nav-link router-link-active">
  框架相关
</a></div><div class="nav-item"><a href="/note/internet/" class="nav-link">
  网络http
</a></div><div class="nav-item"><a href="/note/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Link" class="dropdown-title"><span class="title">Link</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/timeline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.jsw0.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/WalkAlone0325" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/base/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/note/utils/" class="nav-link">
  常用工具
</a></div><div class="nav-item"><a href="/note/frame/" class="nav-link router-link-active">
  框架相关
</a></div><div class="nav-item"><a href="/note/internet/" class="nav-link">
  网络http
</a></div><div class="nav-item"><a href="/note/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Link" class="dropdown-title"><span class="title">Link</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/timeline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.jsw0.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/WalkAlone0325" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/frame/" class="sidebar-link">框架工具</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue相关</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/note/frame/vue/Vue.html" class="sidebar-link">Vue</a></li><li><a href="/note/frame/vue/VueRouter.html" class="sidebar-link">VueRouter</a></li><li><a href="/note/frame/vue/Vuex.html" class="sidebar-link">Vuex</a></li><li><a href="/note/frame/vue/Nuxt.html" class="sidebar-link">Nuxt</a></li><li><a href="/note/frame/vue/Vue3.html" class="sidebar-link">Vue3</a></li><li><a href="/note/frame/vue/Interview.html" class="active sidebar-link">面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_1-监听组件的生命周期" class="sidebar-link">1. 监听组件的生命周期</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_2-watch-的初始立即执行" class="sidebar-link">2. watch 的初始立即执行</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_3-路由参数变化组件不更新" class="sidebar-link">3. 路由参数变化组件不更新</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_4-路由的懒加载" class="sidebar-link">4. 路由的懒加载</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_5-require-context" class="sidebar-link">5. require.context()</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_6-递归组件" class="sidebar-link">6. 递归组件</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_7-清除定时器或者事件监听" class="sidebar-link">7. 清除定时器或者事件监听</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_8-自定义路径别名" class="sidebar-link">8. 自定义路径别名</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_9-动态修改-dom-的样式" class="sidebar-link">9. 动态修改 dom 的样式</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_10-长列表性能优化" class="sidebar-link">10. 长列表性能优化</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_11-内容分发-slot" class="sidebar-link">11. 内容分发(slot)</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_12-说一下响应式数据的原理" class="sidebar-link">12. 说一下响应式数据的原理</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_13-vue-中如何检测数组的变化" class="sidebar-link">13. Vue 中如何检测数组的变化</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_14-为何-vue-采用异步渲染" class="sidebar-link">14. 为何 Vue 采用异步渲染</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_15-nexttick-原理" class="sidebar-link">15. nextTick 原理</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_16-vue-中-computed-的特点" class="sidebar-link">16. Vue 中 computed 的特点</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_17-watch-中的-true-是怎么实现的" class="sidebar-link">17. watch 中的 true 是怎么实现的</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_18-vue-的生命周期" class="sidebar-link">18. Vue 的生命周期</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_19-ajax-请求一般放在哪个生命周期" class="sidebar-link">19. ajax 请求一般放在哪个生命周期</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_20-何时需要使用-beforedestroy" class="sidebar-link">20. 何时需要使用 beforeDestroy</a></li><li class="sidebar-sub-header"><a href="/note/frame/vue/Interview.html#_21-为什么-v-for-和-v-if-不能连用" class="sidebar-link">21. 为什么 v-for 和 v-if 不能连用</a></li></ul></li><li><a href="/note/frame/vue/Interview2.html" class="sidebar-link">面试题2</a></li><li><a href="/note/frame/vue/interview-link.html" class="sidebar-link">面试题链接</a></li><li><a href="/note/frame/vue/vue-admin.html" class="sidebar-link">VUE_ADMIN</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序相关</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-监听组件的生命周期"><a href="#_1-监听组件的生命周期" class="header-anchor">#</a> 1. 监听组件的生命周期</h2> <p>父组件<code>Parnet</code>和子组件<code>Child</code>，如果父组件监听到子组件挂载 <code>mounted</code> 就做一些逻辑处理，常规写法如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Parent.vue</span>
<span class="token operator">&lt;</span>Child @mounted<span class="token operator">=</span><span class="token string">&quot;doSomething&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// Child.vue</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;mounted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>此外，还有一种特别简单的方式，子组件不需要任何处理，只需要在父组件引用的时候通过<code>@hook</code> 来监听即可，代码如下：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name"><span class="token namespace">@hook:</span>mounted</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doSomething<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name"><span class="token namespace">@hook:</span>updated</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doSomething<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当然这里不仅仅是可以监听 <code>mounted</code>，其它的生命周期事件，例如：<code>created``，updated</code> 等都可以。</p> <h2 id="_2-watch-的初始立即执行"><a href="#_2-watch-的初始立即执行" class="header-anchor">#</a> 2. watch 的初始立即执行</h2> <p>观察和响应 <code>Vue</code> 实例上的数据变动，类似于某些数据的监听回调，每当监听的数据变化时都会执行回调进行后续操作。
但是当 <code>watch</code> 一个<strong>变量</strong>的时候，初始化时并不会执行，如下面的例子，你需要在 <code>created</code> 的时候手动调用一次。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
watch<span class="token operator">:</span> <span class="token punctuation">{</span>
keyWord<span class="token operator">:</span> <span class="token string">'getList'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面这样的做法可以使用，但很麻烦，我们可以添加 <code>immediate</code> 属性，这样初始化的时候就会自动触发(不用再写 <code>created</code> 去调用了)，然后上面的代码就能简化为：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>watch<span class="token operator">:</span> <span class="token punctuation">{</span>
  keyWord<span class="token operator">:</span> <span class="token punctuation">{</span>
    handler<span class="token operator">:</span> <span class="token string">'getList'</span><span class="token punctuation">,</span>
    immediate<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>watch 有三个参数：</p> <ul><li><code>handler</code>：其值是一个回调函数。即监听到变化时应该执行的函数</li> <li><code>deep</code>：其值是 true 或 false；确认是否深入监听。</li> <li><code>immediate</code>：其值是 true 或 false，确认是否以当前的初始值执行 handler 的函数</li></ul> <h2 id="_3-路由参数变化组件不更新"><a href="#_3-路由参数变化组件不更新" class="header-anchor">#</a> 3. 路由参数变化组件不更新</h2> <p>同一<code>path</code>的页面跳转时路由参数变化，但是组件没有对应的更新。</p> <p>原因：主要是因为获取参数写在了<code>created</code>或者<code>mounted</code>路由钩子函数中，路由参数变化的时候，这个生命周期不会重新执行。</p> <p>解决方案 1：<code>watch</code>监听路由</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>watch<span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token comment">// 方法1 //监听路由是否变化</span>
  <span class="token string">'$route'</span> <span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id <span class="token operator">!==</span> <span class="token keyword">from</span><span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> to<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//重新加载数据</span>
        <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//方法 2  设置路径变化时的处理函数</span>
watch<span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token string">'$route'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    handler<span class="token operator">:</span> <span class="token string">'init'</span><span class="token punctuation">,</span>
    immediate<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>解决方案 2 ：为了实现这样的效果可以给<code>router-view</code>添加一个不同的<code>key</code>，这样即使是公用组件，只要 url 变化了，就一定会重新创建这个组件。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$route.fullpath<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_4-路由的懒加载"><a href="#_4-路由的懒加载" class="header-anchor">#</a> 4. 路由的懒加载</h2> <p>Vue 项目中实现路由按需加载（路由懒加载）的 3 中方式：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1、Vue异步组件技术：</span>
<span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">reqire</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'path路径'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token comment">// 2、es6提案的import()</span>
  <span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'path路径'</span><span class="token punctuation">)</span>

<span class="token comment">// 3、webpack提供的require.ensure()</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token parameter">r</span> <span class="token operator">=&gt;</span> require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  <span class="token function">r</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path路径'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'demo'</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="_5-require-context"><a href="#_5-require-context" class="header-anchor">#</a> 5. require.context()</h2> <p><code>require.context(directory,useSubdirectories,regExp)</code></p> <ul><li><code>directory</code>：说明需要检索的目录</li> <li><code>useSubdirectories</code>：是否检索子目录</li> <li><code>regExp</code>: 匹配文件的正则表达式,一般是文件名</li></ul> <p>场景:如页面需要导入多个组件,原始写法:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> titleCom <span class="token keyword">from</span> <span class="token string">'@/components/home/titleCom'</span>
<span class="token keyword">import</span> bannerCom <span class="token keyword">from</span> <span class="token string">'@/components/home/bannerCom'</span>
<span class="token keyword">import</span> cellCom <span class="token keyword">from</span> <span class="token string">'@/components/home/cellCom'</span>
components<span class="token operator">:</span> <span class="token punctuation">{</span>
  titleCom<span class="token punctuation">,</span> bannerCom<span class="token punctuation">,</span> cellCom
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这样就写了大量重复的代码,利用 <code>require.context</code> 可以写成</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> files <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'@/components/home'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token regex">/\.vue$/</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> modules <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
files<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">)</span>
  modules<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">files</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span>default <span class="token operator">||</span> <span class="token function">files</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
components<span class="token operator">:</span> modules
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_6-递归组件"><a href="#_6-递归组件" class="header-anchor">#</a> 6. 递归组件</h2> <p>递归组件: 组件在它的模板内可以递归的调用自己，只要给组件设置 <code>name</code> 组件就可以了。</p> <p>不过需要注意的是，必须给一个条件来限制数量，否则会抛出错误: <code>max stack size exceeded</code></p> <p>组件递归用来开发一些具体有未知层级关系的独立组件。比如：<strong>联级选择器</strong>和<strong>树形控件</strong></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(item, index) in treeArr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{ index }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tree</span> <span class="token attr-name">:item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.arr<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.flag<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tree</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// 必须定义name，组件内部才能递归调用</span>
  name<span class="token operator">:</span> <span class="token string">'tree'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 接收外部传入的值</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    item<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Array<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="_7-清除定时器或者事件监听"><a href="#_7-清除定时器或者事件监听" class="header-anchor">#</a> 7. 清除定时器或者事件监听</h2> <p>由于项目中有些页面难免会碰到需要定时器或者事件监听。但是在离开当前页面的时候，定时器如果不及时合理地清除，会造成业务逻辑混乱甚至应用卡死的情况，这个时就需要清除定时器事件监听，即在页面卸载（关闭）的生命周期函数里，清除定时器。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>methods<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">resizeFun</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tableHeight <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight <span class="token operator">-</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'table'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetTop <span class="token operator">-</span> <span class="token number">128</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">clearTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//清除定时器</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resizeFun<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resizeFun<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clearTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="_8-自定义路径别名"><a href="#_8-自定义路径别名" class="header-anchor">#</a> 8. 自定义路径别名</h2> <p>我们也可以在基础配置文件中添加自己的路径别名</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'vue$'</span><span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span>
      <span class="token string">'@'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'assets'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'components'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/components'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>然后我们导入组件的时候就可以这样写：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// import YourComponent from '/src/components/YourComponent'</span>
<span class="token keyword">import</span> YourComponent <span class="token keyword">from</span> <span class="token string">'components/YourComponent'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这样既解决了路径过长的麻烦，又解决了相对路径的烦恼。</p> <h2 id="_9-动态修改-dom-的样式"><a href="#_9-动态修改-dom-的样式" class="header-anchor">#</a> 9. 动态修改 dom 的样式</h2> <p>原因：因为我们在写<code>.vue</code> 文件中的样式都会追加 <code>scoped</code>。这样针对模板 <code>dom</code> 中的样式就可以生效，但其生效后的最终样式并不是我们写的样式名，而是编码后的。比如：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>dom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>vue</code> 将代码转译成如下，所以我们在<code>js</code>中拼接上的<code>dom</code>结构样式并不会生效。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>.box[data-v-11c6864c]{ background:red; }
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-v-11c6864c</span><span class="token punctuation">&gt;</span></span>dom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>解决方法：将要改变的样式写在 <strong>非 scoped 样式标签</strong> 中。</p> <h2 id="_10-长列表性能优化"><a href="#_10-长列表性能优化" class="header-anchor">#</a> 10. 长列表性能优化</h2> <p>我们应该都知道 vue 会通过 object.defineProperty 对数据进行劫持，来实现视图响应数据的变化，然而有些时候我们的组件就是纯粹的数据展示，不会有任何改变，我们就不需要 vue 来劫持我们的数据，在大量数据展示的情况下，这能够很明显的减少组件初始化的时间。</p> <p>所以，我们可以通过 object.freeze 方法来冻结一个对象，这个对象一旦被冻结，vue 就不会对数据进行劫持了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'xxxx'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 此处做的操作都不能改变list的值</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>另外需要说明的是，这里只是冻结了 list 的值，引用不会被冻结，当我们需要 reactive 数据的时候，我们可以重新给 list 赋值。</p> <h2 id="_11-内容分发-slot"><a href="#_11-内容分发-slot" class="header-anchor">#</a> 11. 内容分发(slot)</h2> <p>插槽 slot，也是组件的一块 HTML 模板，这一块模板显示不显示、以及怎样显示由父组件来决定。实际上，一个 slot 最核心的两个问题在这里就点出来了，是显示不显示和怎样显示。</p> <h4 id="默认插槽"><a href="#默认插槽" class="header-anchor">#</a> 默认插槽</h4> <p>又名单个插槽、匿名插槽，这类插槽没有具体名字，一个组件只能有一个该类插槽。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- 父组件 parent.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>父容器<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tmpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>菜单1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 子组件 child.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>子组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="具名插槽"><a href="#具名插槽" class="header-anchor">#</a> 具名插槽</h4> <p>匿名插槽没有 name 属性，所以叫匿名插槽。那么，插槽加了 name 属性，就变成了具名插槽。具名插槽可以在一个组件中出现 N 次，出现在不同的位置，只需要使用不同的 name 属性区分即可。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- 父组件 parent.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>父容器<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tmpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>菜单up-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tmpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>菜单down-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tmpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>菜单-&gt;1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 子组件 child.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 具名插槽 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>这里是子组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 具名插槽 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 匿名插槽 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h4 id="作用域插槽"><a href="#作用域插槽" class="header-anchor">#</a> 作用域插槽</h4> <p>作用域插槽可以是默认插槽，也可以是具名插槽，不一样的地方是，作用域插槽可以为 slot 标签绑定数据，让其父组件可以获取到子组件的数据。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- parent.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>这是父组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span>
      <span class="token punctuation">&gt;</span></span>&gt;
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>default<span class="token punctuation">&quot;</span></span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>slotProps<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{ slotProps.user.name }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span>
    <span class="token punctuation">&gt;</span></span>&gt;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 子组件 child.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>这是子组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">:user</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
  export default {
    data() {
      return {
        user: {
          name: '小赵'
        }
      }
    }
  }
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="_12-说一下响应式数据的原理"><a href="#_12-说一下响应式数据的原理" class="header-anchor">#</a> 12. 说一下响应式数据的原理</h2> <p>理解：</p> <ol><li>核心点：<code>Obiect.defineproperty</code></li> <li>默认 <code>Vue</code> 在初始化数据时，会给<code>data</code>中的属性使用<code>Object.defineProperty</code>重新定义所有的属性，当页面取到对应的属性时，会进行依赖收集（收集当前组件的 <code>watcher</code>）如果属性发生变化会通知相关依赖进行更新操作。</li></ol> <p>原理：<code>initData</code>（初始化用户传入的 <code>data</code> 数据）-&gt; <code>new Observer</code>（将数据进行检测）-&gt; <code>this.walk(value)</code>（进行对象的处理）-&gt; <code>defineReactive</code>（循环对象属性定义响应式变化）-&gt; <code>Object.defineProperty</code>（使用其重新定义数据）</p> <h2 id="_13-vue-中如何检测数组的变化"><a href="#_13-vue-中如何检测数组的变化" class="header-anchor">#</a> 13. Vue 中如何检测数组的变化</h2> <ol><li>使用函数劫持的方式，重写了数组的方法</li> <li><code>Vue</code> 将 <code>data</code> 中的数组，进行了原型链重写，指向了自己定义的数组原型方法，这样当调用数组 <code>api</code> 时，可以通知依赖更新，如果数组中包含引用类型，会对数组中的应用类型进行监测。</li></ol> <h2 id="_14-为何-vue-采用异步渲染"><a href="#_14-为何-vue-采用异步渲染" class="header-anchor">#</a> 14. 为何 Vue 采用异步渲染</h2> <p>理解：
因为如果不采用异步更新，那么每次更新数据都会对当前组件进行重新渲染，所以为了性能考虑，Vue 会在本轮数据更新后，再去异步更新视图。</p> <p>原理：<code>dep.notify()</code>（通知 <code>watcher</code> 进行更新操作）-&gt; <code>subs[i].update()</code>（依次调用 <code>watcher</code> 的 <code>update</code>）-&gt; <code>queueWatcher</code>（将 <code>watcher</code> 去重放到队列中）-&gt; <code>nextTick(flushSchedulerQueue)</code>（一步清空 <code>watcher</code> 队列）</p> <h2 id="_15-nexttick-原理"><a href="#_15-nexttick-原理" class="header-anchor">#</a> 15. nextTick 原理</h2> <p>理解：<code>nextTick</code> 方法主要是使用了 <strong>宏任务</strong> 和 <strong>微任务</strong>，定义了一个异步方法，多次调用 <code>nextTick</code> 会方法存入队列中，通过这个异步方法清空当前队列，所以这个 <code>nextTick</code> 方法就是异步方法。</p> <p>原理：<code>Promise</code> &gt; <code>MutationObserver</code> &gt; <code>setImmediate</code> &gt; <code>setTimeout</code></p> <h2 id="_16-vue-中-computed-的特点"><a href="#_16-vue-中-computed-的特点" class="header-anchor">#</a> 16. Vue 中 computed 的特点</h2> <p>理解：默认 <code>computed</code> 也是一个 <code>watcher</code>，是具备缓存的，只有当依赖的属性发生变化时才会更新视图</p> <h2 id="_17-watch-中的-true-是怎么实现的"><a href="#_17-watch-中的-true-是怎么实现的" class="header-anchor">#</a> 17. watch 中的 true 是怎么实现的</h2> <p>理解：当用户指定了 <code>watch</code> 中的 <code>deep</code> 属性为 <code>true</code> 时，如果当前监控的值是数组类型，会对对象中的每一项进行求值，此时会将当前 <code>watcher</code> 存入到对应属性的依赖中，这样数组中对象发生变化时也会通知数据更新。</p> <h2 id="_18-vue-的生命周期"><a href="#_18-vue-的生命周期" class="header-anchor">#</a> 18. Vue 的生命周期</h2> <p>理解：</p> <h3 id="要掌握每个生命周期什么时候调用"><a href="#要掌握每个生命周期什么时候调用" class="header-anchor">#</a> 要掌握每个生命周期什么时候调用</h3> <ul><li>beforeCreate 在实例初始化之后，数据观测（data observer）之前被调用</li> <li>created 实例已经创建完成之后被调用，在这一步，实例已完成以下的配置：数据观测，属性和方法的运算，watch/event 事件回调，这里没有$el</li> <li>beforeMount 在挂载开始之前被调用，相关的 render 函数首次被调用</li> <li>mounted el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子</li> <li>beforeUpdated 数据更新时调用，发生在虚拟 dom 重新渲染和打补丁之前</li> <li>Updated 由于数据更新时调用，发生在虚拟 dom 重新渲染和打补丁，在这之后调用该钩子</li> <li>beforeDestroy 实例销毁之前调用，在这一步，实例仍然完全可用</li> <li>destroyed 实例销毁后调用，调用后，vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。该钩子在服务器端渲染期间不被调用</li></ul> <h3 id="要掌握每个生命周期内部可以做什么事"><a href="#要掌握每个生命周期内部可以做什么事" class="header-anchor">#</a> 要掌握每个生命周期内部可以做什么事</h3> <ul><li>created 实例已经创建完成，因为他是最早触发的原因可以进行一些数据，资源的请求</li> <li>mounted 实例已经挂载完成，可以进行一些 DOM 操作</li> <li>beforeUpdate 可以在这个钩子中进一步的更改状态，这不会触发附加的重渲染过程。</li> <li>updated 可以执行依赖于 DOM 的操作，然而在大多数情况下，应该避免在此期间更改状态，因为这可能会导致更新无限循环。该钩子在服务器端期间不会被调用</li> <li>beforeDestroy 可以执行一些优化操作，清空定时器，解除绑定事件</li></ul> <h2 id="_19-ajax-请求一般放在哪个生命周期"><a href="#_19-ajax-请求一般放在哪个生命周期" class="header-anchor">#</a> 19. ajax 请求一般放在哪个生命周期</h2> <p>一般情况下都放在 mounted 中，为了保证逻辑统一性，因为生命周期是同步执行的，ajax 是异步执行的</p> <blockquote><p>服务器端渲染不支持 mounted 方法，所以在服务端渲染的情况下统一放在 created 中</p></blockquote> <h2 id="_20-何时需要使用-beforedestroy"><a href="#_20-何时需要使用-beforedestroy" class="header-anchor">#</a> 20. 何时需要使用 beforeDestroy</h2> <ul><li>可能在当前页面中使用了$on 方法，那需要在组件销毁前解绑</li> <li>清楚自己定义的定时器</li> <li>解除是事件的绑定 scroll、mousemove 。。。</li></ul> <h2 id="_21-为什么-v-for-和-v-if-不能连用"><a href="#_21-为什么-v-for-和-v-if-不能连用" class="header-anchor">#</a> 21. 为什么 v-for 和 v-if 不能连用</h2> <p>v-for 会比 v-if 的优先级高一些，如果连用的话会把 v-if 给没个元素都添加一下，会造成性能问题</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/9/2020, 11:07:57 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/frame/vue/Vue3.html" class="prev">
        Vue3
      </a></span> <span class="next"><a href="/note/frame/vue/Interview2.html">
        面试题2
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/note/assets/js/app.3c0d7068.js" defer></script><script src="/note/assets/js/2.98333b35.js" defer></script><script src="/note/assets/js/23.f501ba21.js" defer></script>
  </body>
</html>
